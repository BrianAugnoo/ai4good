//index
// --- Variables de la Charte ---
$primary: #5C12CF;   // Violet profond
$secondary: #EC0EED; // Magenta vibrant
$bg-page: #f8f9fb;   // Blanc cassé très léger pour le fond (plus moderne que #EEEEEE)
$bg-card: #ffffff;
$text-main: #2c3e50;
$text-light: #95a5a6;
$shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.05);
$shadow-hover: 0 8px 25px rgba(92, 18, 207, 0.15); // Ombre teintée avec la primaire
$radius: 16px;

// --- Mixins ---
@mixin flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

// --- Styles ---

.group-container {
  background-color: $bg-page;
  min-height: 100vh;
  padding-top: 3rem;
  font-family: "Roboto", sans-serif; // Assure-toi que la police est chargée
  color: $text-main;

  h1 {
    text-align: center;
    font-weight: 700;
    color: $primary;
    font-size: 2rem;
    margin: 2rem 0;
    letter-spacing: -0.5px;
  }

  // 1. Search Bar Moderne
  .search-bar {
    margin: 0 auto;
    @include flex-center;
    margin-bottom: 1rem;

    input {
      width: 90%;
      max-width: 500px;
      height: 3.5rem !important; // Force override sur ton ancien style
      border: none;
      background-color: $bg-card;
      padding: 0 1.5rem;
      border-radius: 50px; // Forme de pilule moderne
      outline: none;
      box-shadow: $shadow-soft;
      font-size: 1rem;
      transition: all 0.3s ease;
      color: $text-main;

      &::placeholder {
        color: lighten($text-light, 10%);
      }

      &:focus {
        box-shadow: 0 0 0 2px rgba($primary, 0.2), $shadow-hover;
      }
    }
  }

  // Bouton retour (si présent dans .back-button)

}

.groups {
  background-color: transparent; // On enlève le fond gris du conteneur global
  width: 90%;
  max-width: 800px; // Limite la largeur sur grand écran pour la lisibilité
  margin: 0 auto;
  padding-bottom: 4rem;

  // 3. Navigation (Tabs)
  .nav {
    display: flex;
    justify-content: center;
    margin-bottom: 2rem;
    background: transparent;
    gap: 1rem;

    a {
      flex: 1;
      text-decoration: none;
      text-align: center;
      padding: 0.8rem 1rem;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      color: $text-light;
      border-bottom: 2px solid transparent; // Prépare la transition
      transition: all 0.3s ease;
      border-radius: 8px; // Légèrement arrondi

      &:hover {
        color: lighten($primary, 10%);
        background-color: rgba($primary, 0.03);
      }
    }

    .selected {
      color: $primary;
      background-color: #fff;
      box-shadow: 0 2px 10px rgba(0,0,0,0.03);
      border-bottom: 2px solid $primary; // Indicateur actif sobre
    }
  }
}

#group {
  display: flex;
  align-items: center;
  width: 100%;
  background-color: $bg-card;
  margin-bottom: 1rem;
  padding: 1rem;
  border-radius: $radius;
  box-shadow: $shadow-soft;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  border: 1px solid rgba(0,0,0,0.02); // Bordure ultra subtile

  &:hover {
    transform: translateY(-3px); // Effet de levitation
    box-shadow: $shadow-hover;
  }

  // Image du groupe
  img {
    width: 3.5rem;
    height: 3.5rem;
    object-fit: cover;
    border-radius: 50%; // Image ronde
    margin-right: 1rem;
    border: 2px solid white;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }

  .rank-badge {
    width: 2.5rem;       // Largeur fixe
    height: 2.5rem;      // Hauteur fixe
    border-radius: 50%;  // Cercle parfait
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: 800;    // Texte gras
    font-size: 1.1rem;
    margin-right: 1rem;  // Espace avant la photo
    flex-shrink: 0;      // Empêche l'écrasement sur mobile

    // Style par défaut (4ème et plus) : Gris sobre
    background-color: #f1f5f9;
    color: #64748b;      // Gris foncé
    font-size: 1rem;

    // --- LE PODIUM ---

    // 1er : Le Dégradé "Winner"
    &.rank-1 {
      background: linear-gradient(135deg, $primary 0%, $secondary 100%);
      color: white;
      box-shadow: 0 4px 10px rgba($primary, 0.4); // Petit halo de gloire
      font-size: 1.2rem;
      border: 2px solid white; // Pour ressortir
    }

    // 2ème : Violet (Primaire)
    &.rank-2 {
      background-color: white;
      border: 2px solid $primary;
      color: $primary;
    }

    // 3ème : Magenta (Secondaire)
    &.rank-3 {
      background-color: white;
      border: 2px solid $secondary;
      color: darken($secondary, 10%);
    }
  }

  // Le conteneur texte à l'intérieur du lien
  .group {
    text-align: left; // Plus lisible que centré
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;

    h5 {
      font-family: "Roboto", sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      margin: 0;
      color: $text-main;
    }

    p {
      margin: 0;
      font-size: 0.85rem;
      color: $text-light;
      margin-top: 0.2rem;
    }
  }

  // Note / Ratting (si présent à droite)
  & > p:last-child {
    font-weight: 700;
    color: $primary; // Note en violet
    background: rgba($primary, 0.1);
    padding: 0.3rem 0.8rem;
    border-radius: 12px;
    font-size: 0.9rem;
  }
}
// .neant {
//   box-shadow:
//     inset 0 0 5px 2px rgba(255, 255, 255, 0.9),
//     inset 0 0 20px 5px rgba(255, 255, 255, 0.5),
//     inset 0 0 40px 10px rgba(200, 220, 255, 0.3);
// }


// show
// --- CONFIGURATION COULEURS (Identiques aux pages précédentes) ---
$primary: #5C12CF;
$secondary: #EC0EED;
$bg-app: #f8fafc;
$card-bg: #ffffff;
$text-dark: #1e293b;
$text-gray: #64748b;
$border-light: #e2e8f0;

// Mixin Gradient Signature
@mixin brand-gradient {
  background: linear-gradient(135deg, $primary 0%, $secondary 100%);
}

.group-show-wrapper {
  background-color: $bg-app;
  min-height: 100vh;
  padding: 2rem;
  font-family: 'Inter', sans-serif;
  color: $text-dark;

  // --- Header ---
  .page-header {
    max-width: 1200px;
    margin: 0 auto 2.5rem;

    .header-top {
      display: flex;
      justify-content: space-between;
      margin-bottom: 1rem;

      .btn-ghost {
        color: $text-gray;
        text-decoration: none;
        font-size: 0.9rem;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        transition: 0.2s;
        border: 1px solid transparent;
        &:hover { background: #f1f5f9; color: $primary; }
      }
    }

    .header-banner {
      background: $card-bg;
      padding: 2rem;
      border-radius: 20px;
      box-shadow: 0 4px 20px rgba(92, 18, 207, 0.05); // Ombre violette subtile
      border: 1px solid rgba(255, 255, 255, 0.6);

      .banner-content {
        h1 {
          font-size: 2.2rem;
          font-weight: 800;
          margin: 0.5rem 0;
          background: -webkit-linear-gradient(45deg, $text-dark, #4a4a4a);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
        }

        .badge-theme {
          background: rgba($secondary, 0.1); // Fond rose pâle
          color: darken($secondary, 10%);    // Texte rose foncé
          padding: 0.4rem 1rem;
          border-radius: 50px;
          font-size: 0.8rem;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .meta-tags {
          display: flex;
          flex-wrap: wrap;
          gap: 1.5rem;
          margin-top: 1rem;
          font-size: 0.95rem;
          color: $text-gray;

          strong { color: $primary; }
        }
      }
    }
  }

  // --- Grid ---
  .dashboard-grid {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 2fr 1fr; // Layout 2/3 - 1/3
    gap: 2rem;

    @media (max-width: 900px) {
      grid-template-columns: 1fr;
    }
  }

  // --- Cartes Standard ---
  .custom-card {
    background: $card-bg;
    border-radius: 16px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    margin-bottom: 2rem;
    overflow: hidden;

    .card-header {
      padding: 1.5rem 1.5rem 1rem;
      border-bottom: 1px solid $border-light;

      h3 {
        margin: 0;
        font-size: 1.1rem;
        font-weight: 700;
        color: $text-dark;
      }
    }

    .card-body {
      padding: 1.5rem;
    }
  }

  // --- Évaluations ---
  .categories-list {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .dropdown-wrapper {
    .btn-outline-brand {
      background: white;
      border: 1px solid $border-light;
      padding: 0.7rem 1.2rem;
      border-radius: 12px;
      display: flex;
      align-items: center;
      gap: 1rem;
      color: $text-dark;
      font-weight: 600;
      transition: all 0.2s;

      .badge-check {
        background: $primary;
        color: white;
        font-size: 0.7rem;
        padding: 0.2rem 0.6rem;
        border-radius: 4px;
      }

      &:hover {
        border-color: $primary;
        box-shadow: 0 4px 12px rgba($primary, 0.1);
      }
    }

    .custom-dropdown {
      border: none;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      border-radius: 12px;
      padding: 1rem;
      min-width: 260px;

      .dd-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 700;
        margin-bottom: 0.5rem;

        .score-pill {
          background: $secondary;
          color: white;
          padding: 2px 8px;
          border-radius: 10px;
          font-size: 0.8rem;
        }
      }

      .dd-item {
        display: flex;
        justify-content: space-between;
        padding: 0.5rem 0;
        color: $text-gray;
        font-size: 0.9rem;

        .c-val { font-weight: 600; color: $text-dark; }
      }
    }
  }

  // --- Boutons d'Action (Signature) ---
  .action-buttons {
    display: flex;
    gap: 1rem;

    .btn-action-gradient {
      @include brand-gradient; // Utilise ton dégradé Violet -> Magenta
      color: white;
      padding: 0.8rem 1.5rem;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba($primary, 0.3); // Halo violet
      transition: transform 0.2s;
      display: inline-block;

      &:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba($primary, 0.4);
      }
    }
  }

  // --- Carte Vidéo ---
  .video-wrapper {
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  // --- Sidebar : Carte Résultat (Point Focal) ---
  .result-card-gradient {
    @include brand-gradient; // Fond Dégradé Total
    border-radius: 20px;
    padding: 2rem;
    text-align: center;
    color: white;
    margin-bottom: 2rem;
    box-shadow: 0 10px 30px rgba($primary, 0.25);

    .label {
      display: block;
      text-transform: uppercase;
      font-size: 0.85rem;
      letter-spacing: 2px;
      opacity: 0.8;
      margin-bottom: 0.5rem;
    }

    .big-score {
      font-size: 4.5rem;
      font-weight: 800;
      line-height: 1;
      display: block;
      margin-bottom: 1rem;
      text-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .timer-badge {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      padding: 0.5rem 1rem;
      border-radius: 50px;
      display: inline-block;
      font-size: 0.9rem;
      font-weight: 600;
    }
  }

  // --- Liste Membres ---
  .members-list {
    list-style: none;
    padding: 0;
    margin: 0;

    li {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 0.8rem 0;
      border-bottom: 1px dashed $border-light;
      margin-left: 0.5rem;
      &:last-child { border-bottom: none; }

      .avatar {
        width: 40px;
        height: 40px;
        background: rgba($primary, 0.05); // Violet très pâle
        color: $primary;
        border-radius: 50%; // Rond
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1rem;
      }

      .name {
        font-weight: 500;
        color: $text-dark;
      }
    }
  }
}
